<!--index.wxml-->
<view class="container">
  <!-- 搜索 -->
  <view class='search-container'>
    <input class='search' confirm-type='search' value="{{keywords}}" placeholder="请输入想听的歌曲 啥都有哦~" bindinput='changeInput' bindblur='blurAndSearch' auto-focus/>
  </view>
  <!-- 搜索历史+每日推荐 -->
  <view class='search-history' wx:if="{{!isInput && searchHistory.length > 0}}">
    <view class='title'>搜索历史</view>
    <view class='search-history-item' data-val="{{item}}" bindtap='addAndSearch' wx:for="{{searchHistory}}" wx:key="index">{{item}}</view>
    <!-- <view class='splite'></view> -->
  </view>
  <!-- 搜索列表 -->
  <view class='search-list' wx:if="{{isInput}}">
    <block wx:for="{{searchlist}}" wx:key="item.id">
      <view class='search-list-item' hover-class='tapclass' hover-start-time="200" hover-stay-time="150" bindtap='playSong' id='{{item.id}}'>
        <view class='item-title'>{{item.name}}</view>
        <view class='item-desc'>{{item.ar[0].name}} - {{item.al.name}}</view>
        <view class='item-alia' wx:if="{{item.alia[0]}}">{{item.alia[0]}}</view>
      </view>
    </block>
  </view>

  <!-- 底部固定播放器 -->
  <view class='player' bindtap='goPlayer'>
    <view class='nodata' wx:if="{{!songinfo.name}}" animation="{{animationData}}">永远相信美好的事情即将发生</view>
    <view class='img'>
      <image src='{{songinfo.al.picUrl}}'></image>
    </view>
    <view class='player-text'>
      <view class='player-text-title'>{{songinfo.name}}</view>
      <view class='player-text-desc'>{{songinfo.ar[0].name}}
        <block wx:if="{{songinfo.alia[0]}}"> - </block>
        {{songinfo.alia[0]}}</view>
    </view>

    <view class='player-btn-container' catchtap='playOrPause' hover-class='tapclass' hover-stay-time="150" wx:if="{{songinfo.name}}">
      <view class='play-btn iconfont icon-pause' wx:if="{{playstatus == 0}}"></view>
      <view class='play-btn iconfont icon-play1' wx:if="{{playstatus != 0}}"></view>
    </view>
  </view>
</view>